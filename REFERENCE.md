# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

_Public Classes_

* [`postgresql::client`](#postgresqlclient): Install client cli tool.
* [`postgresql::globals`](#postgresqlglobals): Class for setting cross-class global overrides.
* [`postgresql::lib::devel`](#postgresqllibdevel): This class installs postgresql development libraries.
* [`postgresql::lib::docs`](#postgresqllibdocs): This class installs the postgresql-docs
* [`postgresql::lib::java`](#postgresqllibjava): This class installs the postgresql jdbc connector.
* [`postgresql::lib::perl`](#postgresqllibperl): This class installs the perl libs for postgresql.
* [`postgresql::lib::python`](#postgresqllibpython): This class installs the python libs for postgresql.
* [`postgresql::repo::apt_postgresql_org`](#postgresqlrepoapt_postgresql_org): PRIVATE CLASS: do not use directly
* [`postgresql::repo::yum_postgresql_org`](#postgresqlrepoyum_postgresql_org): PRIVATE CLASS: do not use directly
* [`postgresql::server`](#postgresqlserver): This installs a PostgreSQL server
* [`postgresql::server::contrib`](#postgresqlservercontrib): Install the contrib postgresql packaging.
* [`postgresql::server::plperl`](#postgresqlserverplperl): This class installs the PL/Perl procedural language for postgresql.
* [`postgresql::server::plpython`](#postgresqlserverplpython): This class installs the PL/Python procedural language for postgresql.
* [`postgresql::server::postgis`](#postgresqlserverpostgis): Install the postgis postgresql packaging.

_Private Classes_

* `postgresql::params`: 
* `postgresql::repo`: 
* `postgresql::server::config`: 
* `postgresql::server::initdb`: 
* `postgresql::server::install`: 
* `postgresql::server::passwd`: 
* `postgresql::server::reload`: 
* `postgresql::server::service`: 

**Defined types**

* [`postgresql::server::config_entry`](#postgresqlserverconfig_entry): Manage a postgresql.conf entry.
* [`postgresql::server::database`](#postgresqlserverdatabase): Define for creating a database.
* [`postgresql::server::database_grant`](#postgresqlserverdatabase_grant): Manage a database grant.
* [`postgresql::server::db`](#postgresqlserverdb): @ summary Define for conveniently creating a role, database and assigning the correctpermissions.
* [`postgresql::server::extension`](#postgresqlserverextension): Activate an extension on a postgresql database.
* [`postgresql::server::grant`](#postgresqlservergrant): Define for granting permissions to roles.
* [`postgresql::server::grant_role`](#postgresqlservergrant_role): Define for granting membership to a role.
* [`postgresql::server::pg_hba_rule`](#postgresqlserverpg_hba_rule): This resource manages an individual rule that applies to the file defined in target.
* [`postgresql::server::pg_ident_rule`](#postgresqlserverpg_ident_rule): This resource manages an individual rule that applies to the file defined in target.
* [`postgresql::server::reassign_owned_by`](#postgresqlserverreassign_owned_by): Define for reassigning the ownership of objects within a database.
* [`postgresql::server::recovery`](#postgresqlserverrecovery): This resource manages the parameters that applies to the recovery.conf template.
* [`postgresql::server::role`](#postgresqlserverrole): Define for creating a database role.
* [`postgresql::server::schema`](#postgresqlserverschema): Create a new schema.
* [`postgresql::server::table_grant`](#postgresqlservertable_grant): This resource wraps the grant resource to manage table grants specifically.
* [`postgresql::server::tablespace`](#postgresqlservertablespace): This module creates tablespace.
* [`postgresql::validate_db_connection`](#postgresqlvalidate_db_connection): This type validates that a successful postgres connection.

**Resource types**

* [`postgresql_conf`](#postgresql_conf): This type allows puppet to manage postgresql.conf parameters.
* [`postgresql_conn_validator`](#postgresql_conn_validator): Verify that a connection can be successfully established between a node and the PostgreSQL server.  Its primary use is as a precondition to p
* [`postgresql_psql`](#postgresql_psql): An arbitrary tag for your own reference; the name of the message.
* [`postgresql_replication_slot`](#postgresql_replication_slot): Manages Postgresql replication slots.  This type allows to create and destroy replication slots to register warm standby replication on a Pos

**Functions**

* [`postgresql_acls_to_resources_hash`](#postgresql_acls_to_resources_hash): This internal function translates the ipv(4|6)acls format into a resource suitable for create_resources. It is not intended to be used outsid
* [`postgresql_escape`](#postgresql_escape): 
* [`postgresql_password`](#postgresql_password): 

**Tasks**

* [`sql`](#sql): Allows you to execute arbitary SQL

## Classes

### postgresql::client

Install client cli tool.

#### Parameters

The following parameters are available in the `postgresql::client` class.

##### `file_ensure`

Data type: `Enum['file', 'absent']`

Enum['file','absent'].

Default value: 'file'

##### `validcon_script_path`

Data type: `Stdlib::Absolutepath`

Optional. Absolute path for the postgresql connection validation script.

Default value: $postgresql::params::validcon_script_path

##### `package_name`

Data type: `String[1]`

String. Client package name.

Default value: $postgresql::params::client_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

### postgresql::globals

Class for setting cross-class global overrides.

#### Parameters

The following parameters are available in the `postgresql::globals` class.

##### `client_package_name`

Data type: `Any`



Default value: `undef`

##### `server_package_name`

Data type: `Any`



Default value: `undef`

##### `contrib_package_name`

Data type: `Any`



Default value: `undef`

##### `devel_package_name`

Data type: `Any`



Default value: `undef`

##### `java_package_name`

Data type: `Any`



Default value: `undef`

##### `docs_package_name`

Data type: `Any`



Default value: `undef`

##### `perl_package_name`

Data type: `Any`



Default value: `undef`

##### `plperl_package_name`

Data type: `Any`



Default value: `undef`

##### `plpython_package_name`

Data type: `Any`



Default value: `undef`

##### `python_package_name`

Data type: `Any`



Default value: `undef`

##### `postgis_package_name`

Data type: `Any`



Default value: `undef`

##### `service_name`

Data type: `Any`



Default value: `undef`

##### `service_provider`

Data type: `Any`



Default value: `undef`

##### `service_status`

Data type: `Any`



Default value: `undef`

##### `default_database`

Data type: `Any`



Default value: `undef`

##### `validcon_script_path`

Data type: `Any`



Default value: `undef`

##### `initdb_path`

Data type: `Any`



Default value: `undef`

##### `createdb_path`

Data type: `Any`



Default value: `undef`

##### `psql_path`

Data type: `Any`



Default value: `undef`

##### `pg_hba_conf_path`

Data type: `Any`



Default value: `undef`

##### `pg_ident_conf_path`

Data type: `Any`



Default value: `undef`

##### `postgresql_conf_path`

Data type: `Any`



Default value: `undef`

##### `recovery_conf_path`

Data type: `Any`



Default value: `undef`

##### `default_connect_settings`

Data type: `Any`



Default value: {}

##### `pg_hba_conf_defaults`

Data type: `Any`



Default value: `undef`

##### `datadir`

Data type: `Any`



Default value: `undef`

##### `confdir`

Data type: `Any`



Default value: `undef`

##### `bindir`

Data type: `Any`



Default value: `undef`

##### `xlogdir`

Data type: `Any`



Default value: `undef`

##### `logdir`

Data type: `Any`



Default value: `undef`

##### `log_line_prefix`

Data type: `Any`



Default value: `undef`

##### `user`

Data type: `Any`



Default value: `undef`

##### `group`

Data type: `Any`



Default value: `undef`

##### `version`

Data type: `Any`



Default value: `undef`

##### `postgis_version`

Data type: `Any`



Default value: `undef`

##### `repo_proxy`

Data type: `Any`



Default value: `undef`

##### `repo_baseurl`

Data type: `Any`



Default value: `undef`

##### `needs_initdb`

Data type: `Any`



Default value: `undef`

##### `encoding`

Data type: `Any`



Default value: `undef`

##### `locale`

Data type: `Any`



Default value: `undef`

##### `data_checksums`

Data type: `Any`



Default value: `undef`

##### `timezone`

Data type: `Any`



Default value: `undef`

##### `manage_pg_hba_conf`

Data type: `Any`



Default value: `undef`

##### `manage_pg_ident_conf`

Data type: `Any`



Default value: `undef`

##### `manage_recovery_conf`

Data type: `Any`



Default value: `undef`

##### `manage_package_repo`

Data type: `Any`



Default value: `undef`

##### `module_workdir`

Data type: `Any`



Default value: `undef`

### postgresql::lib::devel

This class installs postgresql development libraries.

#### Parameters

The following parameters are available in the `postgresql::lib::devel` class.

##### `package_name`

Data type: `String`

String.

Default value: $postgresql::params::devel_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

##### `link_pg_config`

Data type: `Boolean`

Boolean.

Default value: $postgresql::params::link_pg_config

### postgresql::lib::docs

This class installs the postgresql-docs

#### Parameters

The following parameters are available in the `postgresql::lib::docs` class.

##### `package_name`

Data type: `String`

String.

Default value: $postgresql::params::docs_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

### postgresql::lib::java

This class installs the postgresql jdbc connector.

#### Parameters

The following parameters are available in the `postgresql::lib::java` class.

##### `package_name`

Data type: `String`

String.

Default value: $postgresql::params::java_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

### postgresql::lib::perl

This class installs the perl libs for postgresql.

#### Parameters

The following parameters are available in the `postgresql::lib::perl` class.

##### `package_name`

Data type: `String`

String.

Default value: $postgresql::params::perl_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

### postgresql::lib::python

This class installs the python libs for postgresql.

#### Parameters

The following parameters are available in the `postgresql::lib::python` class.

##### `package_name`

Data type: `String[1]`

String.

Default value: $postgresql::params::python_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

### postgresql::repo::apt_postgresql_org

PRIVATE CLASS: do not use directly

### postgresql::repo::yum_postgresql_org

PRIVATE CLASS: do not use directly

### postgresql::server

This installs a PostgreSQL server

#### Parameters

The following parameters are available in the `postgresql::server` class.

##### `postgres_password`

Data type: `Any`



Default value: `undef`

##### `package_name`

Data type: `Any`



Default value: $postgresql::params::server_package_name

##### `package_ensure`

Data type: `Any`



Default value: $postgresql::params::package_ensure

##### `plperl_package_name`

Data type: `Any`



Default value: $postgresql::params::plperl_package_name

##### `plpython_package_name`

Data type: `Any`



Default value: $postgresql::params::plpython_package_name

##### `service_ensure`

Data type: `Any`



Default value: $postgresql::params::service_ensure

##### `service_enable`

Data type: `Any`



Default value: $postgresql::params::service_enable

##### `service_manage`

Data type: `Any`



Default value: $postgresql::params::service_manage

##### `service_name`

Data type: `Any`



Default value: $postgresql::params::service_name

##### `service_restart_on_change`

Data type: `Any`



Default value: $postgresql::params::service_restart_on_change

##### `service_provider`

Data type: `Any`



Default value: $postgresql::params::service_provider

##### `service_reload`

Data type: `Any`



Default value: $postgresql::params::service_reload

##### `service_status`

Data type: `Any`



Default value: $postgresql::params::service_status

##### `default_database`

Data type: `Any`



Default value: $postgresql::params::default_database

##### `default_connect_settings`

Data type: `Any`



Default value: $postgresql::globals::default_connect_settings

##### `listen_addresses`

Data type: `Any`



Default value: $postgresql::params::listen_addresses

##### `port`

Data type: `Any`



Default value: $postgresql::params::port

##### `ip_mask_deny_postgres_user`

Data type: `Any`



Default value: $postgresql::params::ip_mask_deny_postgres_user

##### `ip_mask_allow_all_users`

Data type: `Any`



Default value: $postgresql::params::ip_mask_allow_all_users

##### `ipv4acls`

Data type: `Any`



Default value: $postgresql::params::ipv4acls

##### `ipv6acls`

Data type: `Any`



Default value: $postgresql::params::ipv6acls

##### `initdb_path`

Data type: `Any`



Default value: $postgresql::params::initdb_path

##### `createdb_path`

Data type: `Any`



Default value: $postgresql::params::createdb_path

##### `psql_path`

Data type: `Any`



Default value: $postgresql::params::psql_path

##### `pg_hba_conf_path`

Data type: `Any`



Default value: $postgresql::params::pg_hba_conf_path

##### `pg_ident_conf_path`

Data type: `Any`



Default value: $postgresql::params::pg_ident_conf_path

##### `postgresql_conf_path`

Data type: `Any`



Default value: $postgresql::params::postgresql_conf_path

##### `recovery_conf_path`

Data type: `Any`



Default value: $postgresql::params::recovery_conf_path

##### `datadir`

Data type: `Any`



Default value: $postgresql::params::datadir

##### `xlogdir`

Data type: `Any`



Default value: $postgresql::params::xlogdir

##### `logdir`

Data type: `Any`



Default value: $postgresql::params::logdir

##### `log_line_prefix`

Data type: `Any`



Default value: $postgresql::params::log_line_prefix

##### `pg_hba_conf_defaults`

Data type: `Any`



Default value: $postgresql::params::pg_hba_conf_defaults

##### `user`

Data type: `Any`



Default value: $postgresql::params::user

##### `group`

Data type: `Any`



Default value: $postgresql::params::group

##### `needs_initdb`

Data type: `Any`



Default value: $postgresql::params::needs_initdb

##### `encoding`

Data type: `Any`



Default value: $postgresql::params::encoding

##### `locale`

Data type: `Any`



Default value: $postgresql::params::locale

##### `data_checksums`

Data type: `Any`



Default value: $postgresql::params::data_checksums

##### `timezone`

Data type: `Any`



Default value: $postgresql::params::timezone

##### `manage_pg_hba_conf`

Data type: `Any`



Default value: $postgresql::params::manage_pg_hba_conf

##### `manage_pg_ident_conf`

Data type: `Any`



Default value: $postgresql::params::manage_pg_ident_conf

##### `manage_recovery_conf`

Data type: `Any`



Default value: $postgresql::params::manage_recovery_conf

##### `module_workdir`

Data type: `Any`



Default value: $postgresql::params::module_workdir

##### `roles`

Data type: `Hash[String, Hash]`



Default value: {}

##### `config_entries`

Data type: `Hash[String, Any]`



Default value: {}

##### `pg_hba_rules`

Data type: `Hash[String, Hash]`



Default value: {}

##### `version`

Data type: `Any`



Default value: `undef`

### postgresql::server::contrib

Install the contrib postgresql packaging.

#### Parameters

The following parameters are available in the `postgresql::server::contrib` class.

##### `package_name`

Data type: `String`

String.

Default value: $postgresql::params::contrib_package_name

##### `package_ensure`

Data type: `String[1]`

String. Defaults to 'present'.

Default value: 'present'

### postgresql::server::plperl

This class installs the PL/Perl procedural language for postgresql.

#### Parameters

The following parameters are available in the `postgresql::server::plperl` class.

##### `package_ensure`

Data type: `Any`



Default value: 'present'

##### `package_name`

Data type: `Any`



Default value: $postgresql::server::plperl_package_name

### postgresql::server::plpython

This class installs the PL/Python procedural language for postgresql.

#### Parameters

The following parameters are available in the `postgresql::server::plpython` class.

##### `package_ensure`

Data type: `Any`



Default value: 'present'

##### `package_name`

Data type: `Any`



Default value: $postgresql::server::plpython_package_name

### postgresql::server::postgis

Install the postgis postgresql packaging.

#### Parameters

The following parameters are available in the `postgresql::server::postgis` class.

##### `package_name`

Data type: `String`



Default value: $postgresql::params::postgis_package_name

##### `package_ensure`

Data type: `String[1]`



Default value: 'present'

## Defined types

### postgresql::server::config_entry

Manage a postgresql.conf entry.

#### Parameters

The following parameters are available in the `postgresql::server::config_entry` defined type.

##### `ensure`

Data type: `Any`



Default value: 'present'

##### `value`

Data type: `Any`



Default value: `undef`

##### `path`

Data type: `Any`

Boolean. Defaults to false.

Default value: `false`

### postgresql::server::database

Define for creating a database.

#### Parameters

The following parameters are available in the `postgresql::server::database` defined type.

##### `comment`

Data type: `Any`



Default value: `undef`

##### `dbname`

Data type: `Any`



Default value: $title

##### `owner`

Data type: `Any`



Default value: `undef`

##### `tablespace`

Data type: `Any`



Default value: `undef`

##### `template`

Data type: `Any`



Default value: 'template0'

##### `encoding`

Data type: `Any`



Default value: $postgresql::server::encoding

##### `locale`

Data type: `Any`



Default value: $postgresql::server::locale

##### `istemplate`

Data type: `Any`



Default value: `false`

##### `connect_settings`

Data type: `Any`



Default value: $postgresql::server::default_connect_settings

### postgresql::server::database_grant

Manage a database grant.

#### Parameters

The following parameters are available in the `postgresql::server::database_grant` defined type.

##### `privilege`

Data type: `Any`



##### `db`

Data type: `Any`



##### `role`

Data type: `Any`



##### `ensure`

Data type: `Any`



Default value: `undef`

##### `psql_db`

Data type: `Any`



Default value: `undef`

##### `psql_user`

Data type: `Any`



Default value: `undef`

##### `connect_settings`

Data type: `Any`



Default value: `undef`

### postgresql::server::db

@ summary Define for conveniently creating a role, database and assigning the correctpermissions.

#### Parameters

The following parameters are available in the `postgresql::server::db` defined type.

##### `user`

Data type: `Any`



##### `password`

Data type: `Any`



##### `comment`

Data type: `Any`



Default value: `undef`

##### `dbname`

Data type: `Any`



Default value: $title

##### `encoding`

Data type: `Any`



Default value: $postgresql::server::encoding

##### `locale`

Data type: `Any`



Default value: $postgresql::server::locale

##### `grant`

Data type: `Any`



Default value: 'ALL'

##### `tablespace`

Data type: `Any`



Default value: `undef`

##### `template`

Data type: `Any`



Default value: 'template0'

##### `istemplate`

Data type: `Any`



Default value: `false`

##### `owner`

Data type: `Any`



Default value: `undef`

### postgresql::server::extension

Activate an extension on a postgresql database.

#### Parameters

The following parameters are available in the `postgresql::server::extension` defined type.

##### `database`

Data type: `Any`



##### `extension`

Data type: `Any`



Default value: $name

##### `schema`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `version`

Data type: `Optional[String[1]]`



Default value: `undef`

##### `ensure`

Data type: `String[1]`



Default value: 'present'

##### `package_name`

Data type: `Any`



Default value: `undef`

##### `package_ensure`

Data type: `Any`



Default value: `undef`

##### `connect_settings`

Data type: `Any`



Default value: $postgresql::server::default_connect_settings

### postgresql::server::grant

Define for granting permissions to roles.

#### Parameters

The following parameters are available in the `postgresql::server::grant` defined type.

##### `role`

Data type: `String`



##### `db`

Data type: `String`



##### `privilege`

Data type: `String`



Default value: ''

##### `object_type`

Data type: `Pattern[#/(?i:^COLUMN$)/,
    /(?i:^ALL SEQUENCES IN SCHEMA$)/,
    /(?i:^ALL TABLES IN SCHEMA$)/,
    /(?i:^DATABASE$)/,
    #/(?i:^FOREIGN DATA WRAPPER$)/,
    #/(?i:^FOREIGN SERVER$)/,
    #/(?i:^FUNCTION$)/,
    /(?i:^LANGUAGE$)/,
    #/(?i:^PROCEDURAL LANGUAGE$)/,
    /(?i:^TABLE$)/,
    #/(?i:^TABLESPACE$)/,
    /(?i:^SCHEMA$)/,
    /(?i:^SEQUENCE$)/
    #/(?i:^VIEW$)/
  ]`



Default value: 'database'

##### `object_name`

Data type: `Optional[Variant[
            Array[String,2,2],
            String[1]]
  ]`



Default value: `undef`

##### `psql_db`

Data type: `String`



Default value: $postgresql::server::default_database

##### `psql_user`

Data type: `String`



Default value: $postgresql::server::user

##### `port`

Data type: `Integer`



Default value: $postgresql::server::port

##### `onlyif_exists`

Data type: `Boolean`



Default value: `false`

##### `connect_settings`

Data type: `Hash`



Default value: $postgresql::server::default_connect_settings

##### `ensure`

Data type: `Enum['present',
        'absent'
  ]`



Default value: 'present'

### postgresql::server::grant_role

Define for granting membership to a role.

#### Parameters

The following parameters are available in the `postgresql::server::grant_role` defined type.

##### `group`

Data type: `String[1]`



##### `role`

Data type: `String[1]`



Default value: $name

##### `ensure`

Data type: `Enum['present', 'absent']`



Default value: 'present'

##### `psql_db`

Data type: `Any`



Default value: $postgresql::server::default_database

##### `psql_user`

Data type: `Any`



Default value: $postgresql::server::user

##### `port`

Data type: `Any`



Default value: $postgresql::server::port

##### `connect_settings`

Data type: `Any`



Default value: $postgresql::server::default_connect_settings

### postgresql::server::pg_hba_rule

This resource manages an individual rule that applies to the file defined in target.

#### Parameters

The following parameters are available in the `postgresql::server::pg_hba_rule` defined type.

##### `type`

Data type: `Enum['local', 'host', 'hostssl', 'hostnossl']`

Enum['local','host','hostssl','hostnossl'].

##### `database`

Data type: `String`



##### `user`

Data type: `String`



##### `auth_method`

Data type: `String`



##### `address`

Data type: `Optional[String]`



Default value: `undef`

##### `description`

Data type: `String`



Default value: 'none'

##### `auth_option`

Data type: `Optional[String]`



Default value: `undef`

##### `order`

Data type: `Variant[String, Integer]`



Default value: 150

##### `target`

Data type: `Stdlib::Absolutepath`



Default value: $postgresql::server::pg_hba_conf_path

##### `postgresql_version`

Data type: `String`



Default value: $postgresql::server::_version

### postgresql::server::pg_ident_rule

This resource manages an individual rule that applies to the file defined in target.

#### Parameters

The following parameters are available in the `postgresql::server::pg_ident_rule` defined type.

##### `map_name`

Data type: `Any`



##### `system_username`

Data type: `Any`



##### `database_username`

Data type: `Any`



##### `description`

Data type: `Any`



Default value: 'none'

##### `order`

Data type: `Any`



Default value: '150'

##### `target`

Data type: `Any`



Default value: $postgresql::server::pg_ident_conf_path

### postgresql::server::reassign_owned_by

Define for reassigning the ownership of objects within a database.

* **Note** This enables us to force the a particular ownership for objects within a database

#### Parameters

The following parameters are available in the `postgresql::server::reassign_owned_by` defined type.

##### `old_role`

Data type: `String`



##### `new_role`

Data type: `String`



##### `db`

Data type: `String`



##### `psql_user`

Data type: `String`



Default value: $postgresql::server::user

##### `port`

Data type: `Integer`



Default value: $postgresql::server::port

##### `connect_settings`

Data type: `Hash`



Default value: $postgresql::server::default_connect_settings

### postgresql::server::recovery

This resource manages the parameters that applies to the recovery.conf template.

#### Parameters

The following parameters are available in the `postgresql::server::recovery` defined type.

##### `restore_command`

Data type: `Any`



Default value: `undef`

##### `archive_cleanup_command`

Data type: `Any`



Default value: `undef`

##### `recovery_end_command`

Data type: `Any`



Default value: `undef`

##### `recovery_target_name`

Data type: `Any`



Default value: `undef`

##### `recovery_target_time`

Data type: `Any`



Default value: `undef`

##### `recovery_target_xid`

Data type: `Any`



Default value: `undef`

##### `recovery_target_inclusive`

Data type: `Any`



Default value: `undef`

##### `recovery_target`

Data type: `Any`



Default value: `undef`

##### `recovery_target_timeline`

Data type: `Any`



Default value: `undef`

##### `pause_at_recovery_target`

Data type: `Any`



Default value: `undef`

##### `standby_mode`

Data type: `Any`



Default value: `undef`

##### `primary_conninfo`

Data type: `Any`



Default value: `undef`

##### `primary_slot_name`

Data type: `Any`



Default value: `undef`

##### `trigger_file`

Data type: `Any`



Default value: `undef`

##### `recovery_min_apply_delay`

Data type: `Any`



Default value: `undef`

##### `target`

Data type: `Any`



Default value: $postgresql::server::recovery_conf_path

### postgresql::server::role

Define for creating a database role.

#### Parameters

The following parameters are available in the `postgresql::server::role` defined type.

##### `update_password`

Data type: `Any`



Default value: `true`

##### `password_hash`

Data type: `Any`



Default value: `false`

##### `createdb`

Data type: `Any`



Default value: `false`

##### `createrole`

Data type: `Any`



Default value: `false`

##### `db`

Data type: `Any`



Default value: $postgresql::server::default_database

##### `port`

Data type: `Any`



Default value: `undef`

##### `login`

Data type: `Any`



Default value: `true`

##### `inherit`

Data type: `Any`



Default value: `true`

##### `superuser`

Data type: `Any`



Default value: `false`

##### `replication`

Data type: `Any`



Default value: `false`

##### `connection_limit`

Data type: `Any`



Default value: '-1'

##### `username`

Data type: `Any`



Default value: $title

##### `connect_settings`

Data type: `Any`



Default value: $postgresql::server::default_connect_settings

##### `ensure`

Data type: `Enum['present', 'absent']`



Default value: 'present'

### postgresql::server::schema

Create a new schema.

* **Note** The database must exist and the PostgreSQL user should have enough privileges

#### Examples

##### 

```puppet
postgresql::server::schema {'private':
    db => 'template1',
}
```

#### Parameters

The following parameters are available in the `postgresql::server::schema` defined type.

##### `db`

Data type: `Any`



Default value: $postgresql::server::default_database

##### `owner`

Data type: `Any`



Default value: `undef`

##### `schema`

Data type: `Any`



Default value: $title

##### `connect_settings`

Data type: `Any`



Default value: $postgresql::server::default_connect_settings

### postgresql::server::table_grant

This resource wraps the grant resource to manage table grants specifically.

#### Parameters

The following parameters are available in the `postgresql::server::table_grant` defined type.

##### `privilege`

Data type: `Any`



##### `table`

Data type: `Any`



##### `db`

Data type: `Any`



##### `role`

Data type: `Any`



##### `ensure`

Data type: `Any`



Default value: `undef`

##### `port`

Data type: `Any`



Default value: `undef`

##### `psql_db`

Data type: `Any`



Default value: `undef`

##### `psql_user`

Data type: `Any`



Default value: `undef`

##### `connect_settings`

Data type: `Any`



Default value: `undef`

##### `onlyif_exists`

Data type: `Any`



Default value: `false`

### postgresql::server::tablespace

This module creates tablespace.

#### Parameters

The following parameters are available in the `postgresql::server::tablespace` defined type.

##### `location`

Data type: `Any`



##### `owner`

Data type: `Any`



Default value: `undef`

##### `spcname`

Data type: `Any`



Default value: $title

##### `connect_settings`

Data type: `Any`



Default value: $postgresql::server::default_connect_settings

### postgresql::validate_db_connection

This validated if the postgres connection can be established
between the node on which this resource is run and a specified postgres
instance (host/port/user/password/database name).

#### Parameters

The following parameters are available in the `postgresql::validate_db_connection` defined type.

##### `database_host`

Data type: `Any`



Default value: `undef`

##### `database_name`

Data type: `Any`



Default value: `undef`

##### `database_password`

Data type: `Any`



Default value: `undef`

##### `database_username`

Data type: `Any`



Default value: `undef`

##### `database_port`

Data type: `Any`



Default value: `undef`

##### `connect_settings`

Data type: `Any`



Default value: `undef`

##### `run_as`

Data type: `Any`



Default value: `undef`

##### `sleep`

Data type: `Any`



Default value: 2

##### `tries`

Data type: `Any`



Default value: 10

##### `create_db_first`

Data type: `Any`



Default value: `true`

## Resource types

### postgresql_conf

This type allows puppet to manage postgresql.conf parameters.

#### Properties

The following properties are available in the `postgresql_conf` type.

##### `ensure`

Valid values: present, absent

The basic property that the resource should be in.

Default value: present

##### `value`

The value to set for this parameter.

##### `target`

The path to postgresql.conf

#### Parameters

The following parameters are available in the `postgresql_conf` type.

##### `name`

Valid values: %r{^[\w\.]+$}

namevar

The postgresql parameter name to manage.

### postgresql_conn_validator

Verify that a connection can be successfully established between a node
and the PostgreSQL server.  Its primary use is as a precondition to
prevent configuration changes from being applied if the PostgreSQL
server cannot be reached, but it could potentially be used for other
purposes such as monitoring.

#### Properties

The following properties are available in the `postgresql_conn_validator` type.

##### `ensure`

Valid values: present, absent

The basic property that the resource should be in.

Default value: present

#### Parameters

The following parameters are available in the `postgresql_conn_validator` type.

##### `name`

namevar

An arbitrary name used as the identity of the resource.

##### `db_name`

The name of the database you are trying to validate a connection with.

##### `db_username`

A user that has access to the target PostgreSQL database.

##### `db_password`

The password required to access the target PostgreSQL database.

##### `host`

The DNS name or IP address of the server where PostgreSQL should be running.

##### `port`

The port that the PostgreSQL server should be listening on.

##### `connect_settings`

Hash of environment variables for connection to a db.

##### `sleep`

The length of sleep time between connection tries.

Default value: 2

##### `tries`

The number of tries to validate the connection to the target PostgreSQL database.

Default value: 10

##### `psql_path`

Path to the psql command.

##### `run_as`

System user that will run the psql command.

##### `command`

Command to run against target database.

Default value: SELECT 1

### postgresql_psql

An arbitrary tag for your own reference; the name of the message.

#### Properties

The following properties are available in the `postgresql_psql` type.

##### `command`

The SQL command to execute via psql.

#### Parameters

The following parameters are available in the `postgresql_psql` type.

##### `name`

namevar

An arbitrary tag for your own reference; the name of the message.

##### `unless`



##### `onlyif`



##### `connect_settings`

Connection settings that will be used when connecting to postgres

##### `db`

The name of the database to execute the SQL command against, this overrides any PGDATABASE value in connect_settings

##### `port`

The port of the database server to execute the SQL command against, this overrides any PGPORT value in connect_settings.

##### `search_path`

The schema search path to use when executing the SQL command

##### `psql_path`

The path to psql executable.

Default value: psql

##### `psql_user`

The system user account under which the psql command should be executed.

Default value: postgres

##### `psql_group`

The system user group account under which the psql command should be executed.

Default value: postgres

##### `cwd`

The working directory under which the psql command should be executed.

Default value: /tmp

##### `environment`

Any additional environment variables you want to set for a
SQL command. Multiple environment variables should be
specified as an array.

##### `refreshonly`

Valid values: `true`, `false`

If 'true', then the SQL will only be executed via a notify/subscribe event.

Default value: `false`

### postgresql_replication_slot

Manages Postgresql replication slots.

This type allows to create and destroy replication slots
to register warm standby replication on a Postgresql
master server.

#### Properties

The following properties are available in the `postgresql_replication_slot` type.

##### `ensure`

Valid values: present, absent

The basic property that the resource should be in.

Default value: present

#### Parameters

The following parameters are available in the `postgresql_replication_slot` type.

##### `name`

Valid values: %r{^[a-z0-9_]+$}

namevar

The name of the slot to create. Must be a valid replication slot name.

## Functions

### postgresql_acls_to_resources_hash

Type: Ruby 3.x API

This internal function translates the ipv(4|6)acls format into a resource
suitable for create_resources. It is not intended to be used outside of the
postgresql internal classes/defined resources.

will return a hash that can be fed into create_resources to create multiple
individual pg_hba_rule resources.

The second parameter is an identifier that will be included in the namevar
to provide uniqueness. It must be a string.

The third parameter is an order offset, so you can start the order at an
arbitrary starting point.

#### `postgresql_acls_to_resources_hash()`

This internal function translates the ipv(4|6)acls format into a resource
suitable for create_resources. It is not intended to be used outside of the
postgresql internal classes/defined resources.

will return a hash that can be fed into create_resources to create multiple
individual pg_hba_rule resources.

The second parameter is an identifier that will be included in the namevar
to provide uniqueness. It must be a string.

The third parameter is an order offset, so you can start the order at an
arbitrary starting point.

Returns: `Any` This function accepts an array of strings that are pg_hba.conf rules. It

### postgresql_escape

Type: Ruby 3.x API

The postgresql_escape function.

#### `postgresql_escape()`

The postgresql_escape function.

Returns: `Any` Safely escapes a string using $$ using a random tag which should be consistent

### postgresql_password

Type: Ruby 3.x API

The postgresql_password function.

#### `postgresql_password()`

The postgresql_password function.

Returns: `Any` Returns the postgresql password hash from the clear text username / password.

## Tasks

### sql

Allows you to execute arbitary SQL

**Supports noop?** false

#### Parameters

##### `database`

Data type: `Optional[String[1]]`

Database to connect to

##### `host`

Data type: `Optional[String[1]]`

Hostname to connect to

##### `password`

Data type: `Optional[String[1]]`

The password

##### `port`

Data type: `Optional[String[1]]`

The port

##### `sql`

Data type: `String[1]`

The SQL you want to execute

##### `user`

Data type: `Optional[String[1]]`

The user

